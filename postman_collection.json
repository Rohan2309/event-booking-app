{
  "info": {
    "_postman_id": "c2345b2f-123e-4d1b-a9cd-93cf82a89f99",
    "name": "Event Booking API Collection",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Register",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test User\",\n  \"email\": \"test@example.com\",\n  \"password\": \"123456\",\n  \"role\": \"user\"\n}",
              "options": { "raw": { "language": "json" } }
            },
            "url": {
              "raw": "http://localhost:5000/api/register",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5000",
              "path": ["api", "register"]
            }
          }
        },
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"test@example.com\",\n  \"password\": \"123456\"\n}",
              "options": { "raw": { "language": "json" } }
            },
            "url": {
              "raw": "http://localhost:5000/api/login",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5000",
              "path": ["api", "login"]
            }
          }
        },
        {
          "name": "Refresh Token",
          "request": {
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}",
              "options": { "raw": { "language": "json" } }
            },
            "url": {
              "raw": "http://localhost:5000/api/refresh",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5000",
              "path": ["api", "refresh"]
            }
          }
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}",
              "options": { "raw": { "language": "json" } }
            },
            "url": {
              "raw": "http://localhost:5000/api/logout",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5000",
              "path": ["api", "logout"]
            }
          }
        }
      ]
    },

    {
      "name": "Events",
      "item": [
        {
          "name": "List Events",
          "request": {
            "method": "GET",
            "url": {
              "raw": "http://localhost:5000/api/events",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5000",
              "path": ["api", "events"]
            }
          }
        },
        {
          "name": "Create Event (Admin)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "x-admin-token", "value": "{{accessToken}}", "type": "text" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Music Night\",\n  \"description\": \"Live band performance\",\n  \"date\": \"2025-02-22\",\n  \"price\": 399,\n  \"capacity\": 100,\n  \"category\": \"{{categoryId}}\"\n}",
              "options": { "raw": { "language": "json" } }
            },
            "url": {
              "raw": "http://localhost:5000/api/events",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5000",
              "path": ["api", "events"]
            }
          }
        },
        {
          "name": "Update Event (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "x-admin-token", "value": "{{accessToken}}", "type": "text" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n \"title\": \"Updated Event Title\"\n}",
              "options": { "raw": { "language": "json" } }
            },
            "url": {
              "raw": "http://localhost:5000/api/events/{{eventId}}",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5000",
              "path": ["api", "events", "{{eventId}}"]
            }
          }
        },
        {
          "name": "Delete Event (Admin)",
          "request": {
            "method": "DELETE",
            "header": [
              { "key": "x-admin-token", "value": "{{accessToken}}", "type": "text" }
            ],
            "url": {
              "raw": "http://localhost:5000/api/events/{{eventId}}",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5000",
              "path": ["api", "events", "{{eventId}}"]
            }
          }
        }
      ]
    },

    {
      "name": "Bookings",
      "item": [
        {
          "name": "Book Event",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{accessToken}}", "type": "text" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"tickets\": 2,\n  \"method\": \"mock\"\n}",
              "options": { "raw": { "language": "json" } }
            },
            "url": {
              "raw": "http://localhost:5000/api/bookings/{{eventId}}",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5000",
              "path": ["api", "bookings", "{{eventId}}"]
            }
          }
        },
        {
          "name": "Cancel Booking",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{accessToken}}", "type": "text" }
            ],
            "url": {
              "raw": "http://localhost:5000/api/bookings/{{bookingId}}/cancel",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5000",
              "path": ["api", "bookings", "{{bookingId}}", "cancel"]
            }
          }
        }
      ]
    },

    {
      "name": "Admin Reports",
      "item": [
        {
          "name": "Bookings Per Event",
          "request": {
            "method": "GET",
            "header": [
              { "key": "x-admin-token", "value": "{{accessToken}}", "type": "text" }
            ],
            "url": {
              "raw": "http://localhost:5000/api/admin/reports/bookings-per-event",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5000",
              "path": ["api", "admin", "reports", "bookings-per-event"]
            }
          }
        },
        {
          "name": "Revenue Per Category",
          "request": {
            "method": "GET",
            "header": [
              { "key": "x-admin-token", "value": "{{accessToken}}", "type": "text" }
            ],
            "url": {
              "raw": "http://localhost:5000/api/admin/reports/revenue-per-category",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5000",
              "path": ["api", "admin", "reports", "revenue-per-category"]
            }
          }
        }
      ]
    }
  ],

  "variable": [
    { "key": "accessToken", "value": "" },
    { "key": "refreshToken", "value": "" },
    { "key": "eventId", "value": "" },
    { "key": "bookingId", "value": "" },
    { "key": "categoryId", "value": "" }
  ]
}
